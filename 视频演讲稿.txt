各位评委老师好，我们是爱抚皮系欸小组        （再加一个时序约束展示）
我们的作品是基于紫光同创FPGA的远程实验教学系统
我们的系统主要可分为四层结构：
    用户可配置的PG2L100H实验端
    双FPGA架构的控制端
    基于C# TypeScript Vue3 MySQL数据库的服务端后台系统
    Web页面访问的终端系统

实验端为小眼睛盘古100pro+开发板，用户的比特流文件通过JTAG接口烧录，可以完整使用开发板的所有资源
除此以外，我们还为其配备了FMC拓展接口，开发了子模块，比如LED灯排、8位数码管、矩阵按键、ADDA模块等。
其中矩阵键盘做了硬件特殊处理，支持远程激励，实现数字孪生

控制端为紫光同创FPGA芯片、这里以野火的PG2L100H开发板为例。控制端系统通过模拟JTAG时序、光纤HSST通信以及部分引脚直连
实现对实验端系统的监控，远程控制，远程调试等操作。

控制端芯片内部采用AXI总线互连，内部集成了JTAG模块、DDR3缓存模块、I2C EEPROM非易失性存储模块、DDS信号发生器模块、DSO示波器模块、
矩阵键盘远程激励模块、SPI通信远程升级模块、HSST debugger通信模块、电源管理模块、以及与上位机通信的千兆以太网模块。

与上位机的所有通信都可以通过网线进行传输，因此整套FPGA系统仅需两条外界线缆，一路12V供电，一路以太网数据传输。
如果有多台FPGA平台，网线可以通过交换机合并到服务器上。

服务端为基于C# MySQL数据库的后端和基于Vue3 TypeScript的前端，后端负责处理UDP协议，接收前端请求，数据库管理，BSDL文件解析等操作，
前端负责向用户提供现代的Web界面

最后是用户看到的终端画面，后台服务器处于同一局域网下的用户可以浏览器直接访问，后台可以使用代理暴露接口，实现外部访问。


接下来是功能演示。

FPGA实验平台操作：
插入供电线，控制端系统上电，上电后从Flash读取位流，自启动完成后控制电源管理模块切断实验端供电，进入待机状态，等待以太网指令。

服务器操作：
点击启动服务，此时服务已经挂到了局域网上。

Web界面介绍：
在同一局域网打开网址，进入首页
用户可以进入登录页面注册或登录
进入工程界面即可完成所有数字电路实验
右侧的图片是例程模板，滚路可以切换，点击即可进入示例工程界面
管理控制台为管理员提供批量固化FPGA平台，实现远程升级功能的界面

接下来我们以实验11-密码锁制作为例 展示信号发生器的效果

点击例程，进入工程界面。
工程界面分为左右两侧，左侧是FPGA数字孪生平台，用户可以拖动、缩放画布，选中、拖拽组件。
画布右上角有四个功能按钮，导出按钮可以将当前画布布局、器件配置参数导出为json文件。导入按钮可以导入先前保存的json文件。添加组件可以添加新元器件、json模板、虚拟外设。
属性面板按键可以切换右侧栏显示内容。右侧是文档界面，每一个示例工程都配备Markdown文档。
点击属性面板即切换为FPGA平台配置界面

FPGA平台配置流程
添加PG2L100H开发板器件，选中底板组件。
右侧显示了该开发板的各项运行参数。

配置控制端IP地址和端口号
可以查看开发板的IDCODE
选择需要上传的比特流文件，点击上传并下载
后端会通过UDP-JTAG链路烧录比特流文件，并在唤醒后检查状态寄存器是否异常
若没有问题就会提示下载成功

JTAG边界扫描
通过JTAG边界扫描可以捕获低频信号，观察实验现象
LED、数码管等元器件在设置好管脚约束后，边界扫描过程中可以捕获管脚电平，在Web界面显示输出

远程激励
实验平台可以通过矩阵键盘组件进行远程激励
默认状态下，矩阵键盘实物可以操作
开启接管状态后，矩阵键盘实物的操作被远程屏蔽
用户此时可以在Web界面远程输入激励，按键还可以绑定键盘

DDS
用户可以添加一个DDS信号发生器模块，在DDS界面可以设置默认波形类型，时基，频率，相位等参数
并且可以实时同步到控制端的DAC模块

接下来我们以实验13-频率计为例 展示信号发生器的效果

接下来我们以实验01-流水灯为例 展示如何在空白模板中使用管脚约束和边界扫描观察实验现象

远程固化 远程升级
控制端FPGA如果需要更新固件添加新功能，管理员可以在管理控制台中处理。
进入管理控制台，里面列出来了所有连接到服务器的FPGA实验平台。
每个控制端FPGA的Flash可以存储4组比特流，黄金位流存储的是仅保留UDP通信，JTAG下载，REMOTE UPDATE远程升级这些基本功能的位流，不建议更改
管理员可以上传多个比特流文件，这里我们上传至应用位流1，2，并选择默认启动位流为应用位流1.点击固化，比特流会先上传至服务器，
再通过以太网送至远程升级模块，写入Flash，并写入开关和跳转程序。
一般来说一个应用位流固化时间需要10-20s不等

固化完成后，点击切换并热启动，即可向IPAL模块送入热启动指令，切换至默认启动的位流。
关机后重新启动FPGA，也可直接从Flash里读取到应用位流，耗时约5s。